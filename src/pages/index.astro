---
import Layout from "../layouts/Layout.astro";

import { catalogo } from "../data/catalogo.js";
import Listado from "../components/Listado.astro";
import Catalogo from "../components/Catalogo.astro";
import FormBuscar from "../components/FormBuscar.astro";

const categorias = catalogo.map((item) => {
  return {
    categoria: item.categoria,
    alias: item.alias,
    item: item.data[0]["href"],
  };
});
const categoriasAll = catalogo.flatMap((cat) => cat.data);
---

<Layout catalogoList={categoriasAll} focus={`all`} catalogo={categorias}>
  <header
    class="bg-slate-200 py-4 flex items-center justify-center font-bold text-2xl"
  >
  <a href="/">
    Catalogo de Joyas
    </a>
  </header>

  <nav class="w-full bg-slate-200 flex flex-col gap-4">
    <FormBuscar inputText="" />
    <Catalogo catalogoList={categorias} focus={`all`} />
  </nav>
  <Listado catalogo={categoriasAll} />
</Layout>
